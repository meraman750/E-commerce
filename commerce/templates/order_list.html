{% extends "base.html" %}
{% load static %}

{% block title %}My Orders{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/orders.css' %}">

<h2 class="page-title">My Orders</h2>

{% if orders %}
<div class="orders-grid">
    {% for order in orders %}
    <div class="order-card">
        <a href="{% url 'order_items' order.id %}" class="order-link">
            <div class="order-info">
                <p class="order-id">Order #{{ order.id }}</p>
                <p class="order-total">Total Price: <span>{{ order.total_price }} birr</span></p>
                <p class="order-status">Status: <span>{{ order.status }}</span></p>
                <p class="order-date">Created at: {{ order.created_at|date:"Y-m-d H:i" }}</p>
            </div>
        </a>
        <form action="{% url 'cancel_order' order.id %}" method="post" class="order-actions">
            {% csrf_token %}
            <button type="submit" class="btn btn-danger">Cancel</button>
        </form>
    </div>
    {% endfor %}
</div>
{% else %}
<p class="empty-orders">You have no orders yet.</p>
{% endif %}

{% endblock %}
